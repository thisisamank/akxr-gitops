# Ghost Helm Chart Default Values

nameOverride: ""
fullnameOverride: ""

# Node placement
nodeSelector: {}
tolerations: []

# Ghost application
ghost:
  replicaCount: 1

  image:
    repository: ghcr.io/sredevopsorg/ghost-on-kubernetes
    tag: "latest"
    pullPolicy: IfNotPresent

  # Ghost URL (required - must be a valid TLD for production)
  url: "https://blog.example.com"

  # Use existing secrets instead of creating ones
  existingSecret: "ghost-secret"
  mysqlExistingSecret: "mysql-ghost-secret"

  # SMTP configuration (host/user/port in values, password in secret)
  smtp:
    host: "smtp.example.com"
    user: "user@example.com"
    port: "587"
    from: "noreply@example.com"
    secure: true

  service:
    type: ClusterIP
    port: 2368

  ingress:
    enabled: false
    className: ""
    annotations: {}
    hosts:
      - host: blog.example.com
        paths:
          - path: /
            pathType: Prefix
    tls: []

  persistence:
    size: 10Gi
    storageClass: ""
    volumeName: ""

  resources:
    requests:
      cpu: 200m
      memory: 512Mi
    limits:
      cpu: 1000m
      memory: 1Gi

  startupProbe:
    tcpSocket:
      port: 2368
    initialDelaySeconds: 10
    periodSeconds: 10
    timeoutSeconds: 5
    failureThreshold: 30
    successThreshold: 1

  livenessProbe:
    tcpSocket:
      port: 2368
    initialDelaySeconds: 60
    periodSeconds: 30
    timeoutSeconds: 10
    failureThreshold: 5

  readinessProbe:
    tcpSocket:
      port: 2368
    initialDelaySeconds: 10
    periodSeconds: 10
    timeoutSeconds: 5
    failureThreshold: 3

# MySQL Database
mysql:
  image:
    repository: mysql
    tag: "8.0"
    pullPolicy: IfNotPresent

  auth:
    database: ghost
    username: ghost_user
    rootPassword: ""

  persistence:
    size: 10Gi
    storageClass: ""

  resources:
    requests:
      cpu: 100m
      memory: 256Mi
    limits:
      cpu: 500m
      memory: 512Mi

  livenessProbe:
    exec:
      command:
        - mysqladmin
        - ping
        - -h
        - localhost
    initialDelaySeconds: 30
    periodSeconds: 10
    timeoutSeconds: 5
    failureThreshold: 3

  readinessProbe:
    exec:
      command:
        - mysqladmin
        - ping
        - -h
        - localhost
    initialDelaySeconds: 5
    periodSeconds: 5
    timeoutSeconds: 3
    failureThreshold: 3

