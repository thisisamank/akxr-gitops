# Redis Staging Configuration

# Authentication - using existing sealed secret
auth:
  enabled: true
  existingSecret: redis-staging-secret
  existingSecretPasswordKey: redis-password

# Architecture - standalone (simpler, no sentinel complexity)
architecture: standalone

# Image configuration
image:
  registry: docker.io
  repository: bitnami/redis
  tag: latest
  pullPolicy: IfNotPresent

# Master Redis configuration (single node in standalone mode)
master:
  # Resource limits and requests
  resources:
    limits:
      cpu: 500m
      memory: 1Gi
    requests:
      cpu: 100m
      memory: 256Mi

  # Persistence configuration
  persistence:
    enabled: true
    storageClass: "longhorn"
    accessModes:
      - ReadWriteOnce
    size: 2Gi

  # Service configuration
  service:
    type: ClusterIP
    ports:
      redis: 6379

  # Node selector for staging nodes
  nodeSelector:
    node-type: staging

  # Tolerations for staging node taints
  tolerations:
    - key: node
      operator: Equal
      value: staging
      effect: NoSchedule

# Network policy
networkPolicy:
  enabled: true
  allowExternal: true
  allowExternalEgress: true

# Metrics and monitoring (optional)
metrics:
  enabled: false
