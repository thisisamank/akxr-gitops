# Redis Production Configuration

# Authentication - using existing sealed secret
auth:
  enabled: true
  existingSecret: redis-secret
  existingSecretPasswordKey: redis-password

# Architecture - standalone (simpler, no sentinel complexity)
architecture: standalone

# Image configuration
image:
  registry: docker.io
  repository: bitnami/redis
  tag: latest
  pullPolicy: IfNotPresent

# Master Redis configuration (single node in standalone mode)
master:
  # Resource limits and requests
  resources:
    limits:
      cpu: 1000m
      memory: 2Gi
    requests:
      cpu: 250m
      memory: 512Mi

  # Persistence configuration
  persistence:
    enabled: true
    storageClass: "longhorn"
    accessModes:
      - ReadWriteOnce
    size: 5Gi

  # Service configuration
  service:
    type: ClusterIP
    ports:
      redis: 6379

  # Node selector for production nodes
  nodeSelector:
    node-type: prod

  # Tolerations for production node taints
  tolerations:
    - key: node
      operator: Equal
      value: prod
      effect: NoSchedule

# Network policy
networkPolicy:
  enabled: true
  allowExternal: true
  allowExternalEgress: true

# Metrics and monitoring (optional)
metrics:
  enabled: false
